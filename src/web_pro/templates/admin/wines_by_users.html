{% extends 'pro_base/layout.html' %}
{% load widget_tweaks %}
{% load static %}
{% load i18n %}

{% block meta %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="TheAdmin - Responsive admin and web application ui kit">
    <meta name="keywords" content="admin, dashboard, web app, sass, ui kit, ui framework, bootstrap">
{% endblock meta %}

{% block title %}{%trans 'Wines by Users - Raisin Pro' %}{% endblock %}

{% block additional_fonts %}
    <link href="https://fonts.googleapis.com/css?family=Comfortaa&display=swap" rel="stylesheet">
{% endblock additional_fonts %}

{% block additional_styles %}
    <style>
        .mbm-7 {
            margin-bottom: 7px;
        }

        .fs-16 img {
            margin-bottom: 2px;
        }

    </style>
{% endblock additional_styles %}

{% block additional_scripts %}
    <script type="text/javascript">
    var language = '{{ user_lang }}';
    </script>
    <script type="text/javascript" src="{% static 'assets/javascripts/handlebars.min.js' %}"></script>
    <script src="//cdn.jsdelivr.net/npm/jquery.scrollto@2.1.2/jquery.scrollTo.min.js"></script>
    <script src="{% static 'pro_assets/js/handlers/wine_food/tableHandler.js' %}"></script>
    <script src="{% static 'pro_assets/js/handlers/wine_food/editWineHandler.js' %}"></script>
    <script src="{% static 'pro_assets/js/handlers/heic.js' %}"></script>
    <script src="{% static 'pro_assets/js/handlers/wine_food/imageInputHandler.js' %}"></script>
    <script src="{% static 'pro_assets/js/handlers/wine_food/inputHandler.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
    <script src="{% static 'pro_assets/js/handlers/wine_food/wineHandler.js' %}"></script>
    {% verbatim %}
    <script id="wine-template" type="text/x-handlebars-template">
      <a class="media media-single wineclass" id="{{id}}" name="{{post_id}}">
        <img class="w-130px rounded" src="{{thumb_image }}" alt="VN (red)">
        <div class="media-body wines">
          <p class="fs-16"><strong>{{name}}</strong></p>
          <p class="domain fs-15 mtn-5" style="color: {{{style_color}}} !important">{{domain}}</p>
          <p class="name fs-14 mtn-5">{{winemaker_name}}</p>
          <p class="user-name fs-15 mtn-5" style="color: {{{style_color}}} !important">@{{author}}</p>
          <p class="name fs-14 mtn-5">&nbsp;</p>
        </div>
        <div class="wine_badge_date">
            <small class="bottom-right-icon">{{modified_time_human}}</small>
            <span class="top-right-icon">
                <img src="{{status.[badge]}}" data-toggle="tooltip" data-placement="left" title="" data-tooltip-type="{{status.[status_short]}}" data-original-title="{{status.[description]}}">
            </span>
        </div>
      </a>
    </script>
    {% endverbatim %}
    <script type="text/javascript">
        var overscopePage = 'wines_by_users';

        var missingFoodImage = "{% static 'pro_assets/img/food/food-void-min.png' %}",
            missingWineImage = "{% static 'pro_assets/img/wines/void.gif' %}",
            missingImage = "{% static 'pro_assets/img/missing-image.gif' %}",
            winePostUrl = '{% url "pro_get_winepost" post_id=12345%}',
            wineListUrl = '/pro/ajax/v2/wineposts/?&place_id={{pid}}';
            foodListUrl = '/pro/ajax/v2/foodposts/?&place_id={{pid}}';
            userLang = '{{user_lang}}';
        var section_titles = {
            'allcolors': "{{ section_titles.wines }}",
        }

        var you_search_text = "{{ you_search_text }}";

        // Pagination: Number of pages for each wine list
        var redPages = 0,
            whitePages = 0,
            pinkPages = 0,
            sparklingPages = 0,
            orangePages = 0;

        var winemakersArray = [];
            wineDomainArray = [];

    </script>
    <script src="{% static 'pro_assets/js/handlers/wine_food/wineHandler.js' %}"></script>

{% endblock additional_scripts %}

{% block body %}
    {% include 'pro_base/navigation.html' %}
    <!-- Main container -->
    <main class="main-container">
        <div class="main-content">
            <div class="row">
                <div class="col-md-4 offset-md-8">
                    <form action="#" class="lookup lookup-right">
                        <input type="text" id="list-search-allcolors" placeholder="{% trans 'Search' %}">
                        <span class="clear-search input-group-text" id="clear-search" style="display: inline;"><i class="fa fa fa-times"></i></span>
                    </form>
                </div>
            </div>
            <br>
            {% for color, config in color_config.items %}
            <div class="media-list media-list-divided media-list-hover" data-provide="selectall" id="{{color}}">
                <!-- wines list -->
                <div class="card products-card">
                    <div class="card-title">
                        <header class="flexbox align-items-center media-list-header bg-transparent b-0 pl-20">
                            <div class="flexbox align-items-center">
                                <h2>
                                    <img src="{{ config.icon }}" alt="wine icon {{color}}" width="26" height="26" class="mbm-7">
                                    {{config.capitalised}}
                                </h2>
                                <div class="dropdown" id="{{color}}-sort">
                                    <select data-provide="selectpicker" id="list-select-sorting-{{color}}">
                                        <option value="date" selected>{% trans 'Date' %}</option>
                                        <option value="name">{% trans 'Wine name' %}</option>
                                        <option value="winemaker">{% trans 'Winemaker' %}</option>
                                        <option value="domain">{% trans 'Domain' %}</option>
                                    </select>
                                </div>
                            </div>
                        </header>
                    </div>
                    <div class="row" id="result-{{color}}">
                        <div class="spinner-dots-list" style="display: none"><img src="/static/pro_assets/img/preloading.gif" alt="preloading Raisin Pro website" width="60" height="100"></div>
                        <div class="col-lg-6" id="result-{{color}}1"></div>
                        <div class="col-lg-6" id="result-{{color}}2"></div>
                    </div>
                    <footer class="list-footer flexbox align-items-center py-20 px-20" id="footer-{{color}}">
                        <div class="nb-per-page">
                            <label class="text-fader">{% trans 'Show' %}</label>
                            <select data-provide="selectpicker" id="list-select-per-page-{{color}}">
                                <option value="10" selected>10</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                                <option value="1000">{% trans 'All' %}</option>
                            </select>
                            {% trans 'entries' %}
                        </div>

                        <nav>
                            <ul class="pagination" id="pagination-{{color}}"></ul>
                        </nav>
                    </footer>
                </div>
            </div>
            {% endfor %}
            <div class="media-list media-list-divided media-list-hover" data-provide="selectall" id="allcolors">
                <!-- wines list -->
                <div class="card products-card">
                    <div class="card-title">
                        <header class="flexbox align-items-center media-list-header bg-transparent b-0 pl-20">
                            <div class="flexbox align-items-center">
                                <h2 id="category-title-allcolors">
                                    -
                                </h2>
                                <div class="dropdown" id="allcolors-sort">
                                    <select data-provide="selectpicker" id="list-select-sorting-allcolors">
                                        <option value="date" selected>{% trans 'Date' %}</option>
                                        <option value="name">{% trans 'Wine name' %}</option>
                                        <option value="winemaker">{% trans 'Winemaker' %}</option>
                                        <option value="domain">{% trans 'Domain' %}</option>
                                    </select>
                                </div>
                            </div>
                        </header>
                    </div>
                    <div class="row" id="result-allcolors">
                        <div class="spinner-dots-list" style="display: none"><img src="/static/pro_assets/img/preloading.gif" alt="preloading Raisin Pro website" width="60" height="100"></div>
                        <div class="col-lg-6" id="result-allcolors1"></div>
                        <div class="col-lg-6" id="result-allcolors2"></div>
                    </div>
                    <footer class="list-footer flexbox align-items-center py-20 px-20" id="footer-allcolors">
                        <div class="nb-per-page">
                            <label class="text-fader">{% trans 'Show' %}</label>
                            <select data-provide="selectpicker" id="list-select-per-page-allcolors">
                                <option value="10" selected>10</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                                <option value="1000">{% trans 'All' %}</option>
                            </select>
                            {% trans 'entries' %}
                        </div>

                        <nav>
                            <ul class="pagination" id="pagination-allcolors"></ul>
                        </nav>
                    </footer>
                </div>
            </div>

            <div class="col-12 h-50px"></div>
        </div><!--/.main-content -->
        {% include 'pro_base/footer.html' %}
    </main>

{% endblock body %}
